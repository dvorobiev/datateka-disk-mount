# Datateka Disk Manager (Light версия)

Облегченная версия утилиты управления дисками без Python зависимости. 
Предназначена для работы на серверах без доступа к интернету.

## Особенности

- Работает только с bash скриптами
- Не требует Python или дополнительных библиотек
- Минимальные зависимости (только стандартные утилиты Linux)
- Подходит для установки через SSH на серверы без интернета
- Объединенные команды для упрощенного управления

## Файлы

- `disk_manager.sh` - Основной скрипт управления дисками
- `DISK_WWN.csv` - Файл конфигурации дисков (копируется из основной версии)

## Установка

1. Скопируйте файлы на сервер через SSH:
   ```bash
   scp disk_manager.sh DISK_WWN.csv user@server:/path/to/destination/
   ```

2. Сделайте скрипт исполняемым:
   ```bash
   chmod +x disk_manager.sh
   ```

## Использование

```bash
# Включить и смонтировать диск (одна команда)
./disk_manager.sh poweron <диск>

# Выключить и отмонтировать диск (одна команда)
./disk_manager.sh poweroff <диск>

# Показать список всех дисков
./disk_manager.sh list

# Проверить статус диска (смонтирован/не смонтирован)
./disk_manager.sh status <диск>

# Проверить статус всех дисков
./disk_manager.sh status

# Показать справку
./disk_manager.sh help
```

## Примеры

```bash
# Включить и смонтировать диск A1
./disk_manager.sh poweron A1

# Выключить и отмонтировать диск B3
./disk_manager.sh poweroff B3

# Показать список всех дисков
./disk_manager.sh list

# Проверить статус диска C5
./disk_manager.sh status C5

# Проверить статус всех дисков
./disk_manager.sh status
```

## Нотация дисков

Диски обозначаются буквой модуля и номером позиции:
- A1, A2, ..., A12 - диски в модуле 1
- B1, B2, ..., B12 - диски в модуле 2
- C1, C2, ..., C12 - диски в модуле 3
- D1, D2, ..., D12 - диски в модуле 4
- E1, E2, ..., E12 - диски в модуле 5

## Требования

- Linux система
- Доступ к /dev/ttyUSB0 (или другому serial порту)
- Утилиты: mount, umount, mountpoint, df, dmesg
- Права root для управления дисками

## Конфигурация

Файл `DISK_WWN.csv` должен содержать информацию о дисках в формате:
```
wwn;module;position;mount_point
wwn-0x5000039d68d2a2b3;1;1;M1
```

Где:
- `wwn` - World Wide Name идентификатор диска
- `module` - Номер модуля (1-5)
- `position` - Позиция в модуле (1-12)
- `mount_point` - Имя каталога для монтирования в `/mnt/`